<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:insert="fragments/head :: head(title = ${'Список транзакций'})"></div>
</head>
<body>
    <div th:insert="fragments/header :: header(current = ${'transactions'})"></div>
    <div th:insert="transaction/editTransaction :: editTransaction"></div>

    <main role="main" class="container">
        <form id="remove-form" th:action="@{/transaction/list}" method="post">
        <div class="row">
            <div>
                <button type="button" class="btn btn-success add-button" data-toggle="modal" data-target="#transactionModal">Добавить</button>
                <button id="delete-button" type="submit" class="btn btn-dark del-button" data-target="">Удалить</button>
                <label for="fromDate">  Показывать транзакции: с  </label>
                <input id="fromDate" class="fromDate" th:id="${'fromDate'}" name="fromDate" type="date" width="200" th:value="${fromDate}" onchange="dateOnChange();">
                <label for="upToDate">  по  </label>
                <input id="upToDate" class="upToDate" th:id="${'upToDate'}" name="upToDate" type="date" width="200" th:value="${upToDate}" onchange="dateOnChange();">
                <span id="output"></span>
            </div>
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">...</th>
                <th scope="col">Дата</th>
                <th scope="col">Сумма</th>
                <th scope="col">Счет</th>
                <th scope="col">Категория</th>
                <th scope="col">Тип транзакции</th>
                <!--<th scope="col">Теги</th>-->
            </tr>
            </thead>
            <tbody>
            <tr th:each="transaction : ${list_transactions}">
                <td th:id="'transaction-checked-'+${transaction.id}">
                    <div class="form-check form-check-inline">
                        <input th:id="'checkbox-'+${transaction.id}" th:name="idChecked" class="form-check-input" type="checkbox" id="inlineCheckbox1" th:value="${transaction.id}">
                    </div>
                </td>
                <td th:id="'transaction-dateTime-'+${transaction.id}" th:text="${transaction.dateTime}" data-toggle="modal" data-target="#transactionModal"
                    th:data-transaction-id="${transaction.id}" data-transaction-id="${transaction.id}">
                <td th:id="'transaction-amount-'+${transaction.id}" th:text="${transaction.amount}" data-toggle="modal" data-target="#transactionModal"
                    th:data-transaction-id="${transaction.id}" data-transaction-id="${transaction.id}"
                    th:style="'color:'+${transaction.transactionType == 'Доход' ? 'blue' : 'red'}">
                <td th:id="'transaction-account-'+${transaction.id}" th:text="${transaction.account}" data-toggle="modal" data-target="#transactionModal"
                    th:data-transaction-id="${transaction.id}" data-transaction-id="${transaction.id}">
                <td th:id="'transaction-category-'+${transaction.id}" th:text="${transaction.category}" data-toggle="modal" data-target="#transactionModal"
                    th:data-transaction-id="${transaction.id}" data-transaction-id="${transaction.id}">
                <td th:id="'transaction-transactionType-'+${transaction.id}" th:text="${transaction.transactionType}" data-toggle="modal" data-target="#transactionModal"
                    th:data-transaction-id="${transaction.id}" data-transaction-id="${transaction.id}">
                <!--<td th:text="${transaction.tags}">-->
            </tr>
            </tbody>
        </table>
        </div>
        </form>
    </main>

    <div th:insert="fragments/footer :: footer"></div>

</body>
</html>